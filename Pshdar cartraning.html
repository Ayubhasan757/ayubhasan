<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÛŒØ³ØªÛ•Ù…ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù‡Ø§ØªÙˆÙˆÚ†Û†</title>
    <style>
        /* --- CSS (No significant change, kept for completeness) --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            transition: direction 0.4s, text-align 0.4s;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 800px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .lang-selection {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .lang-btn {
            padding: 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lang-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .id-entry {
            display: none;
        }

        .display-box {
            background: #f7f7f7;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
            color: #333;
            min-height: 80px; 
        }

        .name-display {
            color: #10b981; 
            margin-top: 10px;
            font-size: 18px;
            font-weight: normal;
        }

        .numpad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .num-btn {
            padding: 20px;
            font-size: 24px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .num-btn:hover {
            background: #667eea;
            color: white;
        }

        .num-btn:active {
            transform: scale(0.95);
        }

        .action-btn {
            padding: 15px 30px;
            font-size: 18px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        .confirm-btn {
            background: #10b981;
            color: white;
        }
        
        /* Ø´ÛŽÙˆØ§Ø²ÛŒ Ù†Ø§Ú†Ø§Ù„Ø§Ú© Ø¨Û† Ø¯ÙˆÚ¯Ù…Û•ÛŒ Ø¯ÚµÙ†ÛŒØ§Ú©Ø±Ø¯Ù†Û•ÙˆÛ• */
        .confirm-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .confirm-btn:hover:not(:disabled) {
            background: #059669;
        }

        .quiz-container {
            display: none;
        }

        .question-box {
            background: #f7f7f7;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            font-size: 18px;
            font-weight: bold;
            color: #667eea;
        }

        .timer {
            font-size: 24px;
            font-weight: bold;
            color: #ef4444;
        }

        .question-text {
            font-size: 20px;
            margin-bottom: 15px;
            text-align: center;
        }

        .traffic-sign {
            text-align: center;
            font-size: 80px;
            margin: 20px 0;
        }

        .answers {
            display: grid;
            gap: 10px;
        }

        .answer-btn {
            padding: 15px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .answer-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .answer-btn.correct {
            background: #10b981;
            color: white;
            border-color: #10b981;
        }

        .answer-btn.wrong {
            background: #ef4444;
            color: white;
            border-color: #ef4444;
        }

        .result-container {
            display: none;
            text-align: center;
        }

        .result-emoji {
            font-size: 100px;
            margin: 20px 0;
        }

        .result-text {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .score {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 30px;
        }

        .restart-btn {
            background: #667eea;
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            font-weight: bold;
        }

        .restart-btn:hover {
            background: #764ba2;
        }
        
        /* RTL/LTR Adjustments */
        body[dir="ltr"] .answer-btn {
            text-align: left;
        }
        body[dir="rtl"] .answer-btn {
            text-align: right;
        }
    </style>
</head>
<body dir="rtl">
    <div class="container">
        
        <div class="lang-selection" id="langSelection">
            <h1 style="grid-column: 1/-1;">Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ø²Ù…Ø§Ù† / Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ© / Select Language</h1>
            <button class="lang-btn" onclick="selectLanguage('sorani')">Ú©ÙˆØ±Ø¯ÛŒ (Ø³Û†Ø±Ø§Ù†ÛŒ)</button>
            <button class="lang-btn" onclick="selectLanguage('badini')">Ú©ÙˆØ±Ø¯ÛŒ (Ø¨Ø§Ø¯ÛŒÙ†ÛŒ)</button>
            <button class="lang-btn" onclick="selectLanguage('arabic')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
            <button class="lang-btn" onclick="selectLanguage('english')">English</button>
        </div>

        <div class="id-entry" id="idEntry">
            <h1 id="pageTitle">Ø¯Ø§Ø®ÚµÚ©Ø±Ø¯Ù†ÛŒ Ú˜Ù…Ø§Ø±Û•ÛŒ Ù†Ø§Ø³Ù†Ø§Ù…Û•</h1>
            
            <div class="display-box">
                <div id="idDisplay">___</div>
                <div class="name-display" id="nameDisplay"></div>
            </div>
            
            <div class="numpad">
                <button class="num-btn" onclick="addDigit('1')">1</button>
                <button class="num-btn" onclick="addDigit('2')">2</button>
                <button class="num-btn" onclick="addDigit('3')">3</button>
                <button class="num-btn" onclick="addDigit('4')">4</button>
                <button class="num-btn" onclick="addDigit('5')">5</button>
                <button class="num-btn" onclick="addDigit('6')">6</button>
                <button class="num-btn" onclick="addDigit('7')">7</button>
                <button class="num-btn" onclick="addDigit('8')">8</button>
                <button class="num-btn" onclick="addDigit('9')">9</button>
                <button class="num-btn" onclick="clearEntry()">C</button>
                <button class="num-btn" onclick="addDigit('0')">0</button>
                <button class="num-btn" onclick="backspace()">âŒ«</button>
            </div>
            
            <button class="action-btn confirm-btn" onclick="confirmID()" id="confirmBtn" disabled>Ø¯ÚµÙ†ÛŒØ§Ú©Ø±Ø¯Ù†Û•ÙˆÛ•</button>
            <p id="verificationMessage" style="text-align: center; color: red; margin-top: 10px;"></p>
        </div>

        <div class="quiz-container" id="quizContainer">
            <h1 id="quizTitle">ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù‡Ø§ØªÙˆÙˆÚ†Û†</h1>
            <div class="question-box">
                <div class="question-header">
                    <span class="question-number" id="questionNumber">Ù¾Ø±Ø³ÛŒØ§Ø± 1/25</span>
                    <span class="timer" id="timer">60s</span>
                </div>
                <div class="traffic-sign" id="trafficSign"></div>
                <div class="question-text" id="questionText"></div>
                <div class="answers" id="answersContainer"></div>
            </div>
        </div>

        <div class="result-container" id="resultContainer">
            <h1 id="resultTitle">Ø¦Û•Ù†Ø¬Ø§Ù…ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•</h1>
            <div class="result-emoji" id="resultEmoji">ðŸŽ‰</div>
            <div class="result-text" id="resultText">Ù¾ÛŒØ±Û†Ø²Û•! Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆ Ø¨ÙˆÙˆÛŒØª</div>
            <div class="score" id="scoreDisplay">25/25</div>
            <button class="restart-btn" onclick="restart()" id="restartBtn">Ø¯Û•Ø³ØªÙ¾ÛŽÚ©Ø±Ø¯Ù†Û•ÙˆÛ•</button>
        </div>
    </div>

    <script>
        /* --- JAVASCRIPT LOGIC --- */
        let currentLang = '';
        let currentID = '';
        let currentQuestion = 0;
        let score = 0;
        let timerInterval;
        let timeLeft = 60; 
        
        // --- Ø¦Ø§Ù…Ø§Ù†Ø¬ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø± Ùˆ Ø¯Û•Ø±Ú†ÙˆÙˆÙ† Ú¯Û†Ú•Ø¯Ø±Ø§ ---
        const totalQuestions = 25; // Ù¢Ù¥ Ù¾Ø±Ø³ÛŒØ§Ø±
        const passingScore = 20; // Ø¯Û•Ø±Ú†ÙˆÙˆÙ† Ø¨Û• Ù¢Ù  Ú•Ø§Ø³Øª

        // --- Ø¦Û†Ø¨Ø¬ÛŽÚ©ØªÛŒ ÙˆÛ•Ø±Ú¯ÛŽÚ•Ø§Ù† ---
        const translations = {
            sorani: {
                dir: 'rtl', langCode: 'ku', title: 'Ø¯Ø§Ø®ÚµÚ©Ø±Ø¯Ù†ÛŒ Ú˜Ù…Ø§Ø±Û•ÛŒ Ù†Ø§Ø³Ù†Ø§Ù…Û•', confirm: 'Ø¯ÚµÙ†ÛŒØ§Ú©Ø±Ø¯Ù†Û•ÙˆÛ•', quizTitle: 'ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù‡Ø§ØªÙˆÙˆÚ†Û†',
                question: 'Ù¾Ø±Ø³ÛŒØ§Ø±', resultTitle: 'Ø¦Û•Ù†Ø¬Ø§Ù…ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•', passed: `Ù¾ÛŒØ±Û†Ø²Û•! Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆ Ø¨ÙˆÙˆÛŒØª. Ù¾ÛŽÙˆÛŒØ³ØªÛ• ${passingScore} Ú•Ø§Ø³Øª Ø¨Ú©Û•ÛŒØªØŒ ØªÛ† ${score} Ú•Ø§Ø³ØªØª Ú©Ø±Ø¯.`,
                failed: `Ø¯Ø§Ø®Û•ÙˆÛ•! Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆ Ù†Û•Ø¨ÙˆÙˆÛŒØª. Ù¾ÛŽÙˆÛŒØ³ØªÛ• ${passingScore} Ú•Ø§Ø³Øª Ø¨Ú©Û•ÛŒØª.`, restart: 'Ø¯Û•Ø³ØªÙ¾ÛŽÚ©Ø±Ø¯Ù†Û•ÙˆÛ•', enterName: 'ØªÚ©Ø§ÛŒÛ• Ú˜Ù…Ø§Ø±Û•ÛŒ Ù†Ø§Ø³Ù†Ø§Ù…Û• Ø¯Ø§Ø®Úµ Ø¨Ú©Û•',
                notFound: 'Ù†Ø§Ø³Ù†Ø§Ù…Û• Ù†Û•Ø¯Û†Ø²Ø±Ø§ÛŒÛ•ÙˆÛ•', thirdName: (third, full) => `Ù¾Ø´ØªÚ•Ø§Ø³ØªÚ©Ø±Ø§ÛŒÛ•ÙˆÛ•! Ù†Ø§ÙˆÛŒ Ø³ÛŽÛŒÛ•Ù…: ${third} (${full})`,
                verificationSuccess: 'Ù†Ø§Ø³Ù†Ø§Ù…Û• Ø¯Ø±ÙˆØ³ØªÛ• Ùˆ Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒ Ù¾Ø´ØªÚ•Ø§Ø³Øª Ú©Ø±Ø§ÛŒÛ•ÙˆÛ•', verificationFailed: 'Ù†Ø§Ø³Ù†Ø§Ù…Û• Ù†Ø§Ø¯Ø±ÙˆØ³ØªÛ•', timeUp: 'Ú©Ø§Øª Ú©Û†ØªØ§ÛŒÛŒ Ù‡Ø§Øª! (Ù‡Û•ÚµÛ• Ù‡Û•Ú˜Ù…Ø§Ø± Ú©Ø±Ø§)',
                almost: 'Ù†Ø²ÛŒÚ© Ø¨ÙˆÙˆÛŒØªÛ•ÙˆÛ•ØŒ Ø¨Û•ÚµØ§Ù… Ù¾ÛŽÙˆÛŒØ³ØªØª Ø¨Û• Ø®ÙˆÛŽÙ†Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø²ÛŒØ§ØªØ±Û•.'
            },
            badini: {
                dir: 'rtl', langCode: 'ku', title: 'Ø¯Ø§Ø®Ù„Ú©Ø±Ù†Ø§ Ú˜Ù…Ø§Ø±Ø§ Ù†Ø§Ø³Ù†Ø§Ù…ÛŽ', confirm: 'Ù¾Ø´ØªØ±Ø§Ø³ØªÚ©Ø±Ù†', quizTitle: 'ØªØ§Ù‚ÛŒÚ©Ø±Ù†Ø§ Ù‡Ø§ØªÚ†Û†ÛŒÛŽ',
                question: 'Ù¾Ø±Ø³ÛŒØ§Ø±', resultTitle: 'Ø¦Û•Ù†Ø¬Ø§Ù…Ø§ ØªØ§Ù‚ÛŒÚ©Ø±Ù†ÛŽ', passed: `Ù¾ÛŒØ±Û†Ø² Ø¨Øª! Ø³Û•Ø±Ú©Û•ÙØªÛŒ. Ù¾ÛŽØªÚ¤ÛŒ Ø¨ÙˆÙˆ ${passingScore} Ø¯Ø±ÙˆØ³Øª Ø¨Ú©Û•ÛŒØŒ ØªÛ• ${score} Ø¯Ø±ÙˆØ³Øª Ú©Ø±.`,
                failed: `Ø¨Ø¨ÙˆØ±Û•! Ø³Û•Ø±Ú©Û•ÙØªÛŒ Ù†Û•Ø¨ÙˆÙˆÛŒØª. Ù¾ÛŽØªÚ¤ÛŒ Ø¨ÙˆÙˆ ${passingScore} Ø¯Ø±ÙˆØ³Øª Ø¨Ú©Û•ÛŒ.`, restart: 'Ø¯Û•Ø³ØªÙ¾ÛŽÚ©Ø±Ù†Ø§ Ù†ÙˆÛŽ', enterName: 'ØªÚ©Ø§ÛŒÛ• Ú˜Ù…Ø§Ø±Ø§ Ù†Ø§Ø³Ù†Ø§Ù…ÛŽ Ø¯Ø§Ø®Ù„ Ú©Û•',
                notFound: 'Ù†Ø§Ø³Ù†Ø§Ù…ÛŽ Ù†Ù‡â€ŒØ¯ÛŒØ§Ø±', thirdName: (third, full) => `Ù¾Ø´ØªØ±Ø§Ø³ØªÚ©Ø±Ù†! Ù†Ø§Ú¤ÛŽ Ø³ÛŽÛŒÛŽ: ${third} (${full})`,
                verificationSuccess: 'Ù†Ø§Ø³Ù†Ø§Ù…Û• Ø¯Ø±ÙˆØ³ØªÛ• Ùˆ Ù†Ø§Ú¤ÛŽ Ø³ÛŽÛŒÛŽ Ù¾Ø´ØªØ±Ø§Ø³Øª Ú©Ø±ÛŒÛ•', verificationFailed: 'Ù†Ø§Ø³Ù†Ø§Ù…Û• Ù†Ù‡â€ŒØ¯Ø±ÙˆØ³ØªÙ‡â€Œ', timeUp: 'Ø¯Û•Ù…ÛŒ Ø¨ Ø¯ÙˆÙ…Ø§Ù‡ÛŒ Ù‡Ø§Øª! (Ø®Û•Ù„Û•ØªÛŒ Ù‡Û•Ú˜Ù…Ø§Ø± Ú©Ø±Ø§)',
                almost: 'Ù†ÛŽØ²ÛŒÚ© Ø¨ÙˆÙˆÛŒØŒ Ù„ÛŽ Ù¾ÛŽØªÚ¤ÛŒ Ø¨ Ø®ÙˆØ§Ù†Ø¯Ù†Û•Ú©Ø§ Ø²ÛŽØ¯Û•ØªØ±Û•.'
            },
            arabic: {
                dir: 'rtl', langCode: 'ar', title: 'Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©', confirm: 'ØªØ£ÙƒÙŠØ¯', quizTitle: 'Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø±ÙˆØ±',
                question: 'Ø³Ø¤Ø§Ù„', resultTitle: 'Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±', passed: `Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ù†Ø¬Ø­Øª. ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØµÙ„ Ø¹Ù„Ù‰ ${passingScore} Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©ØŒ ÙˆØ­ØµÙ„Øª Ø¹Ù„Ù‰ ${score}.`,
                failed: `Ù„Ù„Ø£Ø³Ù! Ù„Ù… ØªÙ†Ø¬Ø­. ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØµÙ„ Ø¹Ù„Ù‰ ${passingScore} Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©.`, restart: 'Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡', enterName: 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©',
                notFound: 'Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', thirdName: (third, full) => `ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯! Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ø§Ù„Ø«: ${third} (${full})`,
                verificationSuccess: 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ø¨Ù†Ø¬Ø§Ø­', verificationFailed: 'Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­', timeUp: 'Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! (Ø§Ø­ØªØ³Ø¨ Ø®Ø·Ø£)',
                almost: 'ÙƒÙ†Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹ØŒ Ù„ÙƒÙ†Ùƒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¯Ø±Ø§Ø³Ø©.'
            },
            english: {
                dir: 'ltr', langCode: 'en', title: 'Enter ID Number', confirm: 'Confirm', quizTitle: 'Traffic Test',
                question: 'Question', resultTitle: 'Test Result', passed: `Congratulations! You Passed. Required ${passingScore} correct, you got ${score}.`,
                failed: `Sorry! You Failed. Required ${passingScore} correct answers.`, restart: 'Restart', enterName: 'Please enter ID number',
                notFound: 'ID number not found', thirdName: (third, full) => `Verified! Third Name: ${third} (${full})`,
                verificationSuccess: 'ID is correct and third name is verified', verificationFailed: 'Invalid ID number', timeUp: 'Time is up! (Counted as wrong)',
                almost: 'You were close, but you need more study.'
            }
        };

        // --- Ø¯Ø§ØªØ§Ø¨Û•ÛŒØ³ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛŽÙ†Û•Ø±Ø§Ù† (Ù¾ÛŽÙˆÛŒØ³ØªÛ• Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒ Ø¨ÛŽØª) ---
        const users = {
            '123': {
                sorani: 'Ø¦Û•ÛŒÙˆØ¨ Ø­Û•Ø³Û•Ù† Ù…Ø­Û•Ù…Û•Ø¯', badini: 'Ø¦Û•ÛŒÙˆØ¨ Ø­Û•Ø³Û•Ù† Ù…Ø­Û•Ù…Û•Ø¯', arabic: 'Ø£ÙŠÙˆØ¨ Ø­Ø³Ù† Ù…Ø­Ù…Ø¯', english: 'Ayub Hasan Muhammad'
            },
            '677': {
                sorani: 'Ø¹Û•Ø²ÛŒØ² Ø¦Û•Ø­Ù…Û•Ø¯ Ø³Ø§ÚµØ­', badini: 'Ø¹Û•Ø²ÛŒØ² Ø¦Û•Ø­Ù…Û•Ø¯ Ø³Ø§ÚµØ­', arabic: 'Ø¹Ø²ÙŠØ² Ø£Ø­Ù…Ø¯ ØµØ§Ù„Ø­', english: 'Aziz Ahmad Salih'
            },
            '456': {
                sorani: 'Ø³Ø§Ø±Ø§ Ø¦ÛŒØ¨Ø±Ø§Ù‡ÛŒÙ… Ø¹Û•Ù„ÛŒ', badini: 'Ø³Ø§Ø±Ø§ Ø¦ÛŒØ¨Ø±Ø§Ù‡ÛŒÙ… Ø¹Û•Ù„ÛŒ', arabic: 'Ø³Ø§Ø±Ø© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¹Ù„ÙŠ', english: 'Sara Ibrahim Ali'
            },
            '789': {
                sorani: 'Ù…Ø§Ù…Û†Ø³ØªØ§ Ø¹Ù…Ø± Ø³Ø¯ÛŒÙ‚', badini: 'Ù…Ø§Ù…Û†Ø³ØªØ§ Ø¹Ù…Ø± Ø³Ø¯ÛŒÙ‚', arabic: 'Ø§Ø³ØªØ§Ø° Ø¹Ù…Ø± ØµØ¯ÙŠÙ‚', english: 'Teacher Omer Sdiq'
            },
        };
        
        // --- Ù¾Ø±Ø³ÛŒØ§Ø±Û•Ú©Ø§Ù† (Ø²ÛŒØ§Ø¯ Ú©Ø±Ø§ÙˆÙ† Ø¨Û† 10 Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ Ù†Ø§ÙˆØ§Ø²Û•ØŒ Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¨Û•Ø³Û•Ø± 25 Ù¾Ø±Ø³ÛŒØ§Ø±Ø¯Ø§ Ø¨Ø³ÙˆÙˆÚ•ÛŽÙ†Û•ÙˆÛ•) ---
        const questions = [
            {
                sign: 'ðŸ›‘', 
                sorani: {question: 'Ø¦Û•Ù… Ù‡ÛŽÙ…Ø§ÛŒÛ• Ú†ÛŒ Ø¯Û•Ú¯Û•ÛŒÛ•Ù†ÛŽØªØŸ', answers: ['ÙˆÛ•Ø³ØªØ§Ù†', 'Ø®ÛŽØ±Ø§ÛŒÛŒ Ú©Û•Ù…', 'Ú•ÛŽÚ¯Û• Ù¾ÛŽØ¯Ø§Ù†'], correct: 0},
                badini: {question: 'Ú¤ÛŽ Ù‡ÛŽÙ…Ø§ÛŒÛŽ Ú† Ø±Ø§Ù…Ø§Ù† Ù‡Û•ÛŒÛ•ØŸ', answers: ['Ø±Ø§ÙˆØ³ØªÙ†', 'Ø¨Ù„Û•Ø² Ø¨Ú•Û†', 'Ø±ÛŽÙ¾ÛŽØ¯Ø§Ù†'], correct: 0},
                arabic: {question: 'Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ', answers: ['ØªÙˆÙ‚Ù Ø¥Ø¬Ø¨Ø§Ø±ÙŠ', 'ØªØ®ÙÙŠÙ Ø§Ù„Ø³Ø±Ø¹Ø©', 'Ù…Ø±ÙˆØ± Ù…Ø³Ù…ÙˆØ­'], correct: 0},
                english: {question: 'What does this sign mean?', answers: ['Mandatory STOP', 'Reduce Speed', 'Permission to Pass'], correct: 0}
            },
            {
                sign: 'âš ï¸', 
                sorani: {question: 'Ø¦Û•Ù… Ù‡ÛŽÙ…Ø§ÛŒÛ• Ú†ÛŒ Ø¯Û•Ú¯Û•ÛŒÛ•Ù†ÛŽØªØŸ', answers: ['Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ', 'ÙˆÛ•Ø³ØªØ§Ù†', 'Ø®ÛŽØ±Ø§ÛŒÛŒ Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†'], correct: 0},
                badini: {question: 'Ú¤ÛŽ Ù‡ÛŽÙ…Ø§ÛŒÛŽ Ú† Ú•Ø§Ù…Ø§Ù† Ù‡Û•ÛŒÛ•ØŸ', answers: ['Ø¦Ø§Ú¯Ù‡â€ŒÙ‡Ø¯Ø§Ø±Ù‰', 'Ø±Ø§ÙˆØ³ØªÙ†', 'Ø¨Ù„Û•Ø² Ø¨Ú•Û†'], correct: 0},
                arabic: {question: 'Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ', answers: ['ØªØ­Ø°ÙŠØ±', 'ØªÙˆÙ‚Ù', 'Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø³Ø±Ø¹Ø©'], correct: 0},
                english: {question: 'What does this sign mean?', answers: ['Warning', 'Stop', 'Increase Speed'], correct: 0}
            },
            {
                sign: 'ðŸš¦', 
                sorani: {question: 'Ú©Ø§ØªÛŽÚ© ØªØ±Ø§ÙÛŒÚ© Ø³ÙˆÙˆØ±Û• Ú†ÛŒ Ø¯Û•Ú©Û•ÛŒØªØŸ', answers: ['Ø¯Û•ÙˆÛ•Ø³ØªÙ…', 'Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù… Ø¯Û•Ø¨Ù…', 'Ø¯Û•Ø¨ÙˆÙˆØ±Ù…Û•ÙˆÛ•'], correct: 0},
                badini: {question: 'Ø¯Û•Ù…Ø§ ØªØ±Ø§ÙÛŒÚ© Ø³Û†Ø± Ø¨ÛŒØª Ú† Ø¯Ú©Û•ÛŒØŸ', answers: ['Ø±Ø§ÙˆØ¯Û•ÙˆØ³ØªÙ…', 'Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù… Ø¯Ø¨Ù…', 'Ù¾ÛŽØ´ Ø¯Ø§Ø¯Û•Ù…'], correct: 0},
                arabic: {question: 'Ù…Ø§Ø°Ø§ ØªÙØ¹Ù„ Ø¹Ù†Ø¯ Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ø­Ù…Ø±Ø§Ø¡ØŸ', answers: ['Ø£ØªÙˆÙ‚Ù ØªÙ…Ø§Ù…Ø§', 'Ø£Ø³ØªÙ…Ø± Ø¨Ø§Ù„Ø­Ø±ÙƒØ©', 'Ø£Ø¹Ø¨Ø± Ø¨Ø³Ø±Ø¹Ø©'], correct: 0},
                english: {question: 'What do you do when the traffic light is red?', answers: ['I stop', 'I continue', 'I cross quickly'], correct: 0}
            },
            {
                sign: 'â†ªï¸', 
                sorani: {question: 'Ø¦Û•Ù… Ù‡ÛŽÙ…Ø§ÛŒÛ• Ú†ÛŒ Ù¾ÛŒØ´Ø§Ù† Ø¯Û•Ø¯Ø§ØªØŸ', answers: ['Ø³ÙˆÙˆÚ•Ø§Ù†Û•ÙˆÛ• Ø¨Û† Ú•Ø§Ø³Øª', 'Ù‚Û•Ø¯Û•ØºÛ•ÛŒ Ø³ÙˆÙˆØ±Ø§Ù†Û•ÙˆÛ•', 'Ú•ÛŽÚ¯Ø§ÛŒ Ú•Ø§Ø³Øª'], correct: 0},
                badini: {question: 'Ú¤ÛŽ Ù‡ÛŽÙ…Ø§ÛŒÛŽ Ú† Ù†ÛŒØ´Ø§Ù† Ø¯Ø¯Û•ØªØŸ', answers: ['Ø²Ú¤Ø±ÛŒÙ† Ø¨Û† Ø±Ø§Ø³ØªÛŽ', 'Ù‚Ù‡â€ŒØ¯Ù‡â€ŒØºÙ‡â€Œ Ø²Ú¤Ø±ÛŒÙ†', 'Ø±ÛŽÙƒØ§ Ø±Ø§Ø³Øª'], correct: 0},
                arabic: {question: 'Ù…Ø§Ø°Ø§ ØªØ´ÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ', answers: ['Ø§Ù†Ø¹Ø·Ø§Ù Ø¥Ø¬Ø¨Ø§Ø±ÙŠ Ù„Ù„ÙŠÙ…ÙŠÙ†', 'Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø§Ù„ØªÙØ§Ù', 'Ø·Ø±ÙŠÙ‚ Ù…Ø³ØªÙ‚ÙŠÙ…'], correct: 0},
                english: {question: 'What does this sign indicate?', answers: ['Mandatory Right Turn', 'No Turn', 'Straight Road'], correct: 0}
            },
            {
                sign: 'ðŸ…¿ï¸', 
                sorani: {question: 'Ø¦Û•Ù… Ù‡ÛŽÙ…Ø§ÛŒÛ• Ø¨Û† Ú†ÛŒÛŒÛ•ØŸ', answers: ['Ù¾Ø§Ø±Ú© Ú©Ø±Ø¯Ù†', 'ÙˆÛ•Ø³ØªØ§Ù† Ù‚Û•Ø¯Û•ØºÛ•ÛŒÛ•', 'Ú•ÛŽÚ¯Ø§ÛŒ Ú†ÙˆÙˆÙ†Û• Ø¯Û•Ø±Û•ÙˆÛ•'], correct: 0},
                badini: {question: 'Ø¦Û•Ú¤ Ù‡ÛŽÙ…Ø§ÛŒÛ• Ø¨Û† Ú†ÛŒ ÛŒÛ•ØŸ', answers: ['Ù¾Ø§Ø±Ú©Ú©Ø±Ù†', 'Ù‚Ù‡â€ŒØ¯Ù‡â€ŒØºÙ‡â€Œ Ø±Ø§ÙˆØ³ØªÙ†', 'Ø±ÛŽÚ©Ø§ Ø¯Û•Ø±Ú©Û•ÙØªÙ†ÛŽ'], correct: 0},
                arabic: {question: 'Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØºØ±Ø¶ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ', answers: ['Ù…ÙˆÙ‚Ù Ø³ÙŠØ§Ø±Ø§Øª', 'Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆÙ', 'Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø±ÙˆØ¬'], correct: 0},
                english: {question: 'What is this sign for?', answers: ['Parking Area', 'No Stopping', 'Exit Road'], correct: 0}
            },
            {
                sign: 'ðŸš«', 
                sorani: {question: 'Ø¦Û•Ù… Ù‡ÛŽÙ…Ø§ÛŒÛ• Ú†ÛŒ Ø¯Û•Ú¯Û•ÛŒÛ•Ù†ÛŽØªØŸ', answers: ['Ù…Û•Ù…Ù†ÙˆÙˆØ¹Û•', 'ØªÛŽÙ¾Û•Ú•ÛŒÙ†', 'Ú•ÛŽÚ¯Û• Ù¾ÛŽØ¯Ø§Ù†'], correct: 0},
                badini: {question: 'Ú¤ÛŽ Ù‡ÛŽÙ…Ø§ÛŒÛŽ Ú† Ø±Ø§Ù…Ø§Ù† Ù‡Û•ÛŒÛ•ØŸ', answers: ['Ù‚Ù‡â€ŒØ¯Ù‡â€ŒØºÙ‡â€Œ', 'ØªÛŽÙ¾Ù‡â€ŒÚ•ÛŒÙ†', 'Ø±ÛŽÙ¾ÛŽØ¯Ø§Ù†'], correct: 0},
                arabic: {question: 'Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ', answers: ['Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±ÙˆØ±', 'Ù…Ø±ÙˆØ± Ù…Ø³Ù…ÙˆØ­', 'Ø¥Ø´Ø§Ø±Ø© ØªØ­Ø°ÙŠØ±'], correct: 0},
                english: {question: 'What does this sign mean?', answers: ['Prohibited/No Entry', 'Allowed Pass', 'Warning Sign'], correct: 0}
            },
            {
                sign: 'âž¡ï¸', 
                sorani: {question: 'ØªÛ•Ù†Ù‡Ø§ Ø¨Û† Ú©ÙˆÛŽ Ø¯Û•ØªÙˆØ§Ù†ÛŒ Ø¨Ú•Û†ÛŒØŸ', answers: ['Ú•Ø§Ø³Øª', 'Ú†Û•Ù¾ Ùˆ Ú•Ø§Ø³Øª', 'ØªÛ•Ù†Ù‡Ø§ Ú†Û•Ù¾'], correct: 0},
                badini: {question: 'ØªÙ†ÛŽ Ø¨Û† Ú©ÙˆÛŽ Ø¯Ø´ÛŽÛŒ Ø¨Ú†ÛŒØŸ', answers: ['Ø±Ø§Ø³Øª', 'Ú†Ù‡â€ŒÙ¾ Ùˆ Ø±Ø§Ø³Øª', 'ØªÙ†ÛŽ Ú†Ù‡â€ŒÙ¾'], correct: 0},
                arabic: {question: 'Ø¥Ù„Ù‰ Ø£ÙŠÙ† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø°Ù‡Ø§Ø¨ ÙÙ‚Ø·ØŸ', answers: ['Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†', 'Ø§Ù„ÙŠØ³Ø§Ø± ÙˆØ§Ù„ÙŠÙ…ÙŠÙ†', 'Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± ÙÙ‚Ø·'], correct: 0},
                english: {question: 'Where can you only go?', answers: ['Right', 'Left and Right', 'Left Only'], correct: 0}
            },
            {
                sign: 'ðŸ…¿ï¸', // Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ø¯Û•Ú©Ø±ÛŽØªÛ•ÙˆÛ• Ø¨Û† ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ•Ú©ÛŒ Ø¯Ø±ÛŽÚ˜ØªØ±
                sorani: {question: 'Ú©Ø§ØªÛŒ ÙˆÛ•Ø³ØªØ§Ù† Ù„Û•Ù… Ø´ÙˆÛŽÙ†Û•Ø¯Ø§ Ú†Û•Ù†Ø¯Û•ØŸ', answers: ['Ø¨Û• Ù¾ÛŽÛŒ Ù‡ÛŽÙ…Ø§Ú©Û•', 'Ø¨Û• Ø¯Ø±ÛŽÚ˜Ø§ÛŒÛŒ Ú•Û†Ú˜', 'Ù†ÛŒÙˆ Ú©Ø§ØªÚ˜Ù…ÛŽØ±'], correct: 0},
                badini: {question: 'Ø¯Ù‡â€ŒÙ…ÛŒ Ø±Ø§ÙˆØ³ØªÙ†ÛŽ Ù„ Ú¤ÛŒ Ø¬Ù‡ÛŒ Ú†Ù‡â€ŒÙ†Ø¯Ù‡â€ŒØŸ', answers: ['Ù„ Ú¯Û†Ø±ÛŒ Ù‡ÛŽÙ…Ø§ÛŒÛŽ', 'Ø¨ Ø¯Ø±ÛŽÚ˜Ø§Ù‡ÛŒØ§ Ø±Û†Ú˜ÛŽ', 'Ù†ÛŒÚ¤ Ú©Ø§ØªÚ˜Ù…ÛŽØ±'], correct: 0},
                arabic: {question: 'ÙƒÙ… Ù‡ÙŠ Ù…Ø¯Ø© Ø§Ù„ØªÙˆÙ‚Ù ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒØ§Ù†ØŸ', answers: ['Ø­Ø³Ø¨ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©', 'Ø·ÙˆØ§Ù„ Ø§Ù„ÙŠÙˆÙ…', 'Ù†ØµÙ Ø³Ø§Ø¹Ø©'], correct: 0},
                english: {question: 'What is the stopping time here?', answers: ['According to the sign', 'All day long', 'Half an hour'], correct: 0}
            },
            {
                sign: 'ðŸ›£ï¸', 
                sorani: {question: 'Ø´ÛŽØ±ØªØ±ÛŒÙ† Ø®ÛŽØ±Ø§ÛŒÛŒ Ù„Û• Ú•ÛŽÚ¯Ø§ÛŒ Ø¯Û•Ø±Û•ÙˆÛ•ÛŒ Ø´Ø§Ø±Ø¯Ø§ Ú†Û•Ù†Ø¯Û•ØŸ', answers: ['Ù¨Ù -Ù¡Ù Ù  Ú©Ù…/Ú©Ø§Ú˜ÛŽØ±', 'Ù¦Ù  Ú©Ù…/Ú©Ø§Ú˜ÛŽØ±', 'Ù¡Ù¢Ù  Ú©Ù…/Ú©Ø§Ú˜ÛŽØ±'], correct: 0},
                badini: {question: 'Ø¨Ù„Û•Ø²ØªØ±ÛŒÙ† Ø®ÛŽØ±Ø§ØªÛŒ Ù„ Ø±ÛŽÚ©Ø§ Ø¯Û•Ø±Ú¤Û•ÛŒ Ø¨Ø§Ú˜ÛŽØ±ÛŒ Ú†Û•Ù†Ø¯Û•ØŸ', answers: ['Ù¨Ù -Ù¡Ù Ù  Ú©Ù…/Ø¯Û•Ù…Ø³Ú˜Ù…ÛŽØ±', 'Ù¦Ù  Ú©Ù…/Ø¯Û•Ù…Ø³Ú˜Ù…ÛŽØ±', 'Ù¡Ù¢Ù  Ú©Ù…/Ø¯Û•Ù…Ø³Ú˜Ù…ÛŽØ±'], correct: 0},
                arabic: {question: 'Ù…Ø§ Ù‡ÙŠ Ø£Ù‚ØµÙ‰ Ø³Ø±Ø¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØŸ', answers: ['Ù¨Ù -Ù¡Ù Ù  ÙƒÙ…/Ø³Ø§Ø¹Ø©', 'Ù¦Ù  ÙƒÙ…/Ø³Ø§Ø¹Ø©', 'Ù¡Ù¢Ù  ÙƒÙ…/Ø³Ø§Ø¹Ø©'], correct: 0},
                english: {question: 'What is the maximum speed on an external road?', answers: ['80-100 km/h', '60 km/h', '120 km/h'], correct: 0}
            },
            {
                sign: 'ðŸš¸', 
                sorani: {question: 'Ø¦Û•Ù… Ù‡ÛŽÙ…Ø§ÛŒÛ• Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛŒ Ú† Ø¯Û•Ø¯Ø§ØªØŸ', answers: ['Ù¾Û•Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù…Ù†Ø¯Ø§ÚµØ§Ù†', 'Ù†Ø²ÛŒÚ©Ø¨ÙˆÙˆÙ†Û•ÙˆÛ• Ù„Û• Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•', 'Ù‡Û•Ø±Ø¯ÙˆÙˆÚ©ÛŒØ§Ù†'], correct: 2}, // ÙˆÛ•ÚµØ§Ù…ÛŒ Ú¯Û†Ú•Ø§Ùˆ
                badini: {question: 'Ú¤ÛŽ Ù‡ÛŽÙ…Ø§ÛŒÛŽ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛŒØ§ Ú† Ø¯Ø¯Û•ØªØŸ', answers: ['Ù¾Ù‡â€ŒÚ•ÛŒÙ†Ø¯Ø§Ø±ÛŒØ§ Ø²Ø§Ø±Û†Ú©Ø§Ù†', 'Ù†ÛŽØ²ÛŒÚ©Ø¨ÙˆÙˆÙ† Ú˜ Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†ÛŽ', 'Ù‡Ù‡â€ŒØ±Ø¯ÙˆÙˆÚ©Ø§Ù†'], correct: 2},
                arabic: {question: 'Ù…Ø§Ø°Ø§ ØªØ´ÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ', answers: ['Ø¹Ø¨ÙˆØ± Ø§Ù„Ø£Ø·ÙØ§Ù„', 'Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø¨ Ù…Ù† Ù…Ø¯Ø±Ø³Ø©', 'ÙƒÙ„Ø§Ù‡Ù…Ø§'], correct: 2},
                english: {question: 'What does this sign warn about?', answers: ['Children crossing', 'Approaching a school', 'Both'], correct: 2}
            },
        ];


        function selectLanguage(lang) {
            currentLang = lang;
            document.getElementById('langSelection').style.display = 'none';
            document.getElementById('idEntry').style.display = 'block';
            updateLanguage();
        }

        function updateLanguage() {
            const t = translations[currentLang];
            
            document.body.setAttribute('dir', t.dir);
            document.documentElement.setAttribute('lang', t.langCode);

            document.getElementById('pageTitle').textContent = t.title;
            document.getElementById('confirmBtn').textContent = t.confirm;
            document.getElementById('quizTitle').textContent = t.quizTitle;
            document.getElementById('resultTitle').textContent = t.resultTitle;
            document.getElementById('restartBtn').textContent = t.restart;
            
            // Ú¯Û†Ú•ÛŒÙ†ÛŒ Ù¾Û•ÛŒØ§Ù…ÛŒ Ø¯Û•Ø±Ú†ÙˆÙˆÙ† Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ù†Ù…Ø±Û•ÛŒ Ø¯Û•Ø±Ú†ÙˆÙˆÙ† Ù†ÛŒØ´Ø§Ù† Ø¨Ø¯Ø§Øª
            t.passed = translations[currentLang].passed.replace('${passingScore}', passingScore).replace('${score}', score);
            t.failed = translations[currentLang].failed.replace('${passingScore}', passingScore);


            document.getElementById('nameDisplay').textContent = t.enterName;
            document.getElementById('verificationMessage').textContent = '';
            document.getElementById('idDisplay').textContent = currentID || '___';
        }


        // --- ÙÛ•Ù†Ú©Ø´Ù†ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ ID Ùˆ Ù¾Ø´ØªÚ•Ø§Ø³ØªÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù†Ø§Ùˆ ---
        function updateIDDisplay() {
            const t = translations[currentLang];
            const nameDisplay = document.getElementById('nameDisplay');
            const confirmBtn = document.getElementById('confirmBtn');
            const verificationMessage = document.getElementById('verificationMessage');
            const user = users[currentID];

            document.getElementById('idDisplay').textContent = currentID || '___';
            confirmBtn.disabled = true;
            nameDisplay.textContent = t.enterName;
            verificationMessage.textContent = '';
            
            if (user) {
                const fullName = user[currentLang];
                const names = fullName.split(' ');
                
                // Ø¯ÚµÙ†ÛŒØ§ Ø¯Û•Ø¨ÛŽØªÛ•ÙˆÛ• Ú©Û• Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒ Ù‡Û•ÛŒÛ• (Ù„Ø§Ù†ÛŒÚ©Û•Ù… Ù£ Ø¨Û•Ø´)
                if (names.length >= 3) {
                    const thirdName = names[2];
                    
                    nameDisplay.textContent = t.thirdName(thirdName, fullName);
                    nameDisplay.style.color = '#10b981'; 
                    confirmBtn.disabled = false; 
                    verificationMessage.textContent = t.verificationSuccess;
                    verificationMessage.style.color = '#10b981';
                } else {
                    // Ø¦Û•Ú¯Û•Ø± Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒ Ù†Û•Ø¨ÙˆÙˆ (Ù¾ÛŽÙˆÛŒØ³ØªÛ• Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒ Ù„Û• Ø¯Ø§ØªØ§Ø¨Û•ÛŒØ³Ø¯Ø§ Ø¨ÛŽØª)
                    nameDisplay.textContent = fullName + ' (Ù†Ø§Ùˆ ØªÛ•ÙˆØ§Ùˆ Ù†ÛŒÛŒÛ•)';
                    nameDisplay.style.color = '#ef4444'; 
                    verificationMessage.textContent = "Ú˜Ù…Ø§Ø±Û•ÛŒ Ù†Ø§Ø³Ù†Ø§Ù…Û• Ø¯Û†Ø²Ø±Ø§ÛŒÛ•ÙˆÛ• Ø¨Û•ÚµØ§Ù… Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒ ØªÛ•ÙˆØ§Ùˆ Ù†ÛŒÛŒÛ•.";
                    verificationMessage.style.color = '#ef4444';
                }
            } else if (currentID.length > 0) {
                // Ø¦Û•Ú¯Û•Ø± IDÛŒÛ•Ú©Û• Ø¯Ø§Ø®Úµ Ú©Ø±Ø§ Ø¨Û•ÚµØ§Ù… Ù†Û•Ø¯Û†Ø²Ø±Ø§ÛŒÛ•ÙˆÛ•
                verificationMessage.textContent = t.verificationFailed;
                verificationMessage.style.color = '#ef4444';
                nameDisplay.textContent = t.enterName;
            } else {
                // Ú©Ø§ØªÛŽÚ© ID Ø¨Û•ØªØ§ÚµÛ•
                nameDisplay.textContent = t.enterName;
            }
        }

        function addDigit(digit) {
            // Ø±ÛŽÚ¯Û•Ø¯Ø§Ù† Ø¨Û• Ø¯Ø§Ø®ÚµÚ©Ø±Ø¯Ù†ÛŒ Ù¥ Ú˜Ù…Ø§Ø±Û•
            if (currentID.length < 5) {
                currentID += digit;
                updateIDDisplay();
            }
        }

        function clearEntry() {
            currentID = '';
            updateIDDisplay();
        }

        function backspace() {
            currentID = currentID.slice(0, -1);
            updateIDDisplay();
        }

        function confirmID() {
            // ØªÛ•Ù†Ù‡Ø§ Ú©Ø§ØªÛŽÚ© Ø¯ÚµÙ†ÛŒØ§Ú©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¯Û•Ú©Ø§Øª Ú©Û• Ø¯ÙˆÚ¯Ù…Û•Ú©Û• Ú†Ø§Ù„Ø§Ú© Ø¨ÛŽØª
            if (!document.getElementById('confirmBtn').disabled) {
                document.getElementById('idEntry').style.display = 'none';
                document.getElementById('quizContainer').style.display = 'block';
                startQuiz();
            } else {
                alert(translations[currentLang].notFound);
            }
        }

        // --- Ù„Û†Ú˜ÛŒÚ©ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• ---
        function startQuiz() {
            currentQuestion = 0;
            score = 0;
            // Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ù†ÙˆÛŽÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù¾Û•ÛŒØ§Ù…ÛŒ Ø¯Û•Ø±Ú†ÙˆÙˆÙ† Ù„Û•Ú¯Û•Úµ Ø¯Û•Ø³ØªÙ¾ÛŽÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Û•
            updateLanguage(); 
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= totalQuestions) {
                showResults();
                return;
            }

            // Ø³ÙˆÙˆÚ•Ø§Ù†Û•ÙˆÛ• Ø¨Û•Ø³Û•Ø± Ù¾Ø±Ø³ÛŒØ§Ø±Û•Ú©Ø§Ù†Ø¯Ø§ (Ø¨Û† Ú¯Û•ÛŒØ´ØªÙ† Ø¨Û• Ù¢Ù¥ Ù¾Ø±Ø³ÛŒØ§Ø±)
            const qData = questions[currentQuestion % questions.length]; 
            const q = qData[currentLang] || qData.sorani; 

            document.getElementById('questionNumber').textContent = 
                `${translations[currentLang].question} ${currentQuestion + 1}/${totalQuestions}`;
            document.getElementById('trafficSign').textContent = qData.sign;
            document.getElementById('questionText').textContent = q.question;
            
            const answersContainer = document.getElementById('answersContainer');
            answersContainer.innerHTML = '';
            
            q.answers.forEach((answer, index) => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = answer;
                btn.onclick = () => selectAnswer(index);
                answersContainer.appendChild(btn);
            });

            startTimer();
        }

        function startTimer() {
            timeLeft = 60; // Ù¦Ù  Ú†Ø±Ú©Û• (Ø®ÙˆÙ„Û•Ú©ÛŽÚ©)
            document.getElementById('timer').textContent = timeLeft + 's';
            
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft + 's';
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    // Ø¨Û•Ù‡Û•ÚµÛ• Ù‡Û•Ú˜Ù…Ø§Ø± Ø¯Û•Ú©Ø±ÛŽØª
                    alert(translations[currentLang].timeUp);
                    selectAnswer(-1); 
                }
            }, 1000);
        }

        function selectAnswer(index) {
            clearInterval(timerInterval);
            
            const qData = questions[currentQuestion % questions.length];
            const q = qData[currentLang] || qData.sorani;
            const buttons = document.querySelectorAll('.answer-btn');
            
            if (index === q.correct) {
                score++;
                if (index >= 0) buttons[index].classList.add('correct');
            } else {
                if (index >= 0) buttons[index].classList.add('wrong');
                buttons[q.correct].classList.add('correct');
            }

            buttons.forEach(btn => btn.onclick = null);

            setTimeout(() => {
                currentQuestion++;
                showQuestion();
            }, 1500);
        }

        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'block';
            
            // Ù†ÙˆÛŽÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù¾Û•ÛŒØ§Ù…ÛŒ Ø¯Û•Ø±Ú†ÙˆÙˆÙ† Ø¨Û† Ù†ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ù†Ù…Ø±Û•ÛŒ Ø¯Ø±ÙˆØ³Øª
            const t = translations[currentLang];
            t.passed = t.passed.replace('${passingScore}', passingScore).replace('${score}', score);
            t.failed = t.failed.replace('${passingScore}', passingScore);

            document.getElementById('scoreDisplay').textContent = `${score}/${totalQuestions}`;
            
            // --- Ù„Û†Ú˜ÛŒÚ©ÛŒ Ø¦Û•Ù†Ø¬Ø§Ù…Û• Ù†ÙˆÛŽÚ©Ø±Ø§ÙˆÛ•Ú©Ø§Ù† ---
            if (score >= passingScore) {
                document.getElementById('resultEmoji').textContent = 'ðŸ¥³'; 
                document.getElementById('resultText').textContent = t.passed;
            } else if (score >= passingScore - 3) { // Ø¨Û† Ù†Ù…ÙˆÙˆÙ†Û•: 17-19 Ù†Ù…Ø±Û•
                document.getElementById('resultEmoji').textContent = 'ðŸ¤”'; 
                document.getElementById('resultText').textContent = t.almost;
            } else {
                document.getElementById('resultEmoji').textContent = 'ðŸ˜­'; 
                document.getElementById('resultText').textContent = t.failed;
            }
        }

        function restart() {
            currentID = '';
            currentQuestion = 0;
            score = 0;
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('langSelection').style.display = 'grid';
            // Ù¾Ø§Ú©Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø´Ø§Ø´Û•ÛŒ ID Ù„Û•Ø¯ÙˆØ§ÛŒ Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•
            document.getElementById('idEntry').style.display = 'none'; 
            clearEntry();
        }
    </script>
</body>
</html>